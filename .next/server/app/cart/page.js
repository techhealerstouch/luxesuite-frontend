(()=>{var e={};e.id=5,e.ids=[5],e.modules={732:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35914)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\cart\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\LuxeSuite\\\\luxesuite-frontend\\\\app\\\\cart\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\cart\\page.tsx","default")},51818:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var r=s(60687),a=s(43210),n=s(31903),i=s(84014);let l=({amount:e,from:t="PHP"})=>{let{currency:s}=(0,i.H)(),[l,o]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async function(){if(t===s){o(e);return}try{let r=await fetch(`https://v6.exchangerate-api.com/v6/e6f3f9521db5947c9060d3ed/latest/${t}`),a=await r.json();if("success"===a.result&&a.conversion_rates?.[s]){let t=a.conversion_rates[s];o(e*t)}else console.warn("Conversion rate not found, using original amount"),o(e)}catch(t){console.error("Currency conversion failed:",t),o(e)}})()},[e,t,s]),null===l)?(0,r.jsx)("span",{children:"Loading..."}):(0,r.jsx)(n.Gr,{value:l,style:"currency",currency:s,minimumFractionDigits:2})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>p});var r=s(60687),a=s(43210),n=s(72951),i=s(78272),l=s(3589),o=s(13964),d=s(96241);let c=n.bL;n.YJ;let p=n.WT,u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(n.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=n.l9.displayName;let x=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}));x.displayName=n.PP.displayName;let m=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));m.displayName=n.wn.displayName;let h=a.forwardRef(({className:e,children:t,position:s="popper",...a},i)=>(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[(0,r.jsx)(x,{}),(0,r.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(m,{})]})}));h.displayName=n.UC.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.JU.displayName;let f=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(n.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:t})]}));f.displayName=n.q7.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.wv.displayName},72459:(e,t,s)=>{Promise.resolve().then(s.bind(s,99724))},78035:(e,t,s)=>{Promise.resolve().then(s.bind(s,35914))},99724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(60687),a=s(43210),n=s(16189),i=s(55192),l=s(24934),o=s(63974),d=s(51818),c=s(97821),p=s(22381),u=s(20865),x=s(71702);function m({searchParams:e}){let t,s;(0,n.useRouter)();let{toast:m}=(0,x.dj)();e.planId;let h=e.trial||"0",[f,j]=(0,a.useState)(e.duration||"3"),[y,g]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(""),[P,C]=(0,a.useState)(!1),S=async()=>{if(y){C(!0);try{let e=new Date,t=e.toISOString().split("T")[0],s=new Date(e),r=parseInt(f);s.setMonth(s.getMonth()+r);let a=s.toISOString().split("T")[0],n=await c.K.createSubscription({plan_id:y.id,service:y.domain,start_date:t,end_date:a,duration:r,trial:h});console.log("✅ API Response:",n);let i=n?.payment_url||n?.actions?.[0]?.url;if(i){m({title:"Redirecting...",description:"Taking you to payment page."}),window.location.assign(i);return}m({title:"Success",description:"Subscription created."})}catch(e){console.error("❌ API Error raw:",e),m({title:"Subscription Error",description:e?.response?.data?.message||e?.response?.data?.error||e?.message||("string"==typeof e?e:null)||JSON.stringify(e)||"Something went wrong. Please try again.",variant:"destructive"})}finally{C(!1)}}};return y?(0,r.jsx)(u.O,{children:(0,r.jsx)(p.N,{children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Your Cart"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{children:[y.name," - Luxe Proof"]}),(0,r.jsx)(i.BT,{children:y.description})]}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsxs)("div",{className:"mb-4 font-semibold text-lg flex justify-between items-center",children:[(0,r.jsx)("span",{children:"Monthly price"}),(0,r.jsx)(d.S,{amount:y.price,from:"PHP"}),"/month"]}),(0,r.jsx)("hr",{className:"my-4 border-gray-300"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Duration"}),(0,r.jsxs)(o.l6,{value:f,onValueChange:j,children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"1",children:"1 Month"}),(0,r.jsx)(o.eb,{value:"3",children:"3 Months"}),(0,r.jsx)(o.eb,{value:"6",children:"6 Months"}),(0,r.jsx)(o.eb,{value:"12",children:"12 Months"})]})]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:["Renews at ",(0,r.jsx)(d.S,{amount:y.price,from:"PHP"}),"/mo. Cancel anytime."]})]})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Order Summary"})}),(0,r.jsxs)(i.Wu,{children:[(0,r.jsxs)("ul",{className:"space-y-2 text-sm divide-y divide-gray-200",children:[(0,r.jsx)("li",{className:"flex justify-between py-2",children:(0,r.jsx)("span",{className:"text-md",children:(0,r.jsxs)("strong",{children:[y.name," - Luxe Proof"," ","1"===h&&"(Free Trial)"]})})}),(0,r.jsxs)("li",{className:"flex justify-between py-2",children:[(0,r.jsx)("span",{children:"Grant access to"}),(0,r.jsx)("span",{children:"Luxe DB & Luxe Flips"})]}),(0,r.jsxs)("li",{className:"flex justify-between py-2",children:[(0,r.jsx)("span",{children:"Maximum users"}),(0,r.jsx)("span",{children:y.sub_user_limit})]}),(0,r.jsxs)("li",{className:"flex justify-between py-2",children:[(0,r.jsx)("span",{children:"Maximum products"}),(0,r.jsx)("span",{children:y.product_limit})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"text-primary px-0 hover:text-primary hover:bg-transparent focus:ring-0",onClick:()=>v(!b),children:"Have a coupon code?"}),b&&(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Enter coupon code",value:w,onChange:e=>N(e.target.value),className:"border border-gray-300 rounded px-2 py-1 flex-1"}),(0,r.jsx)(l.$,{size:"sm",onClick:()=>{alert(`Coupon "${w}" applied!`)},children:"Apply"})]})]}),(0,r.jsx)("hr",{className:"my-4 border-gray-300"}),"1"!==h&&(0,r.jsxs)("div",{className:"mt-4 font-bold text-lg flex justify-between",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)(d.S,{amount:(t=y.price,s=parseInt(f),("string"==typeof t?parseFloat(t):t)*s),from:"PHP"})]})]}),(0,r.jsx)(i.wL,{children:(0,r.jsx)(l.$,{className:"w-full",onClick:S,children:"1"===h?"Start Free Trial":"Continue"})})]})]})]})})}):(0,r.jsx)("p",{className:"text-center mt-10",children:"Loading..."})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[724,418,474,516,342,246,226],()=>s(732));module.exports=r})();