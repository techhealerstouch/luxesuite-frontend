(()=>{var e={};e.id=960,e.ids=[960],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4203:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\LuxeSuite\\\\luxesuite-frontend\\\\app\\\\checkout\\\\credits\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13760:(e,r,t)=>{Promise.resolve().then(t.bind(t,4203))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29537:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(60687),i=t(43210),n=t(16189),a=t(97821),l=t(55192),o=t(24934),d=t(22381),c=t(20865),u=t(71702);function p(){let{id:e}=(0,n.useParams)(),{toast:r}=(0,u.dj)(),[t,p]=(0,i.useState)(null),[m,x]=(0,i.useState)({full_name:"",street:"",barangay:"",city:"",province:"",postal_code:"",country:"",email:"",phone:""}),[h,f]=(0,i.useState)({}),j=()=>{let e={};return m.full_name.trim()||(e.full_name="Full name is required"),m.email.trim()?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(m.email)||(e.email="Invalid email format"):e.email="Email is required",m.phone.trim()?/^\d{10,11}$/.test(m.phone.replace(/\D/g,""))||(e.phone="Invalid phone number"):e.phone="Phone number is required",m.street.trim()||(e.street="Street address is required"),m.barangay.trim()||(e.barangay="Barangay is required"),m.city.trim()||(e.city="City is required"),m.province.trim()||(e.province="Province is required"),m.postal_code.trim()||(e.postal_code="Postal code is required"),m.country.trim()||(e.country="Country is required"),f(e),0===Object.keys(e).length},y=async()=>{if(!t)return;if(!j()){r({title:"Validation",description:"Please input shipping details"});return}let e=new URLSearchParams(window.location.search).get("user");try{let r=await a.K.topUpCredits({user_id:e?Number(e):void 0,credit_id:t.id,quantity:t.quantity,shipping:m}),s=r?.data??r;s.success&&s.invoice_url?window.open(s.invoice_url,"_blank"):alert("Failed to process checkout.")}catch(e){console.error(e),alert("Checkout failed.")}};if(!t)return(0,s.jsx)("p",{children:"Loading..."});let v=Number("150"),g=Number(t.price)+v,b=(e,r,t,i="text",n="")=>(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1",children:e}),(0,s.jsx)("input",{type:i,className:`border rounded-md px-3 py-2 ${h[t]?"border-red-500":""}`,value:r,onChange:e=>x({...m,[t]:e.target.value}),placeholder:n}),h[t]&&(0,s.jsx)("span",{className:"text-red-500 text-xs mt-1",children:h[t]})]});return(0,s.jsx)(c.O,{children:(0,s.jsx)(d.N,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Shipping Details"}),(0,s.jsx)(l.BT,{children:"Please provide accurate information for smooth delivery."})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"col-span-2",children:b("Full Name",m.full_name,"full_name","text","Enter your full name")}),b("Email",m.email,"email","email","you@example.com"),b("Phone Number",m.phone,"phone","tel","09XXXXXXXXX"),(0,s.jsx)("div",{className:"col-span-2 border-t pt-4",children:(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Address Information"})}),(0,s.jsx)("div",{className:"col-span-2",children:b("Street Address",m.street,"street","text","House No., Street Name")}),b("Barangay",m.barangay,"barangay"),b("City",m.city,"city"),b("Province",m.province,"province"),b("Postal Code",m.postal_code,"postal_code"),(0,s.jsx)("div",{className:"col-span-2",children:b("Country",m.country,"country","text","Philippines")})]})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Order Summary"}),(0,s.jsx)(l.BT,{children:"Review your package and charges before confirming."})]}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:t.name}),(0,s.jsxs)("span",{className:"font-medium",children:["₱",t.price]})]}),(0,s.jsxs)("div",{className:"ml-4 text-sm text-gray-600 space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"• Authentications"}),(0,s.jsx)("span",{children:t.quantity})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"• NFC Card"}),(0,s.jsx)("span",{children:t.quantity})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Shipping Fee"}),(0,s.jsxs)("span",{children:["₱",v]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-2",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["₱",g]})]}),(0,s.jsx)(o.$,{className:"w-full mt-4",onClick:y,children:"Buy Now"})]})]})]})})})}},33873:e=>{"use strict";e.exports=require("path")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77312:(e,r,t)=>{Promise.resolve().then(t.bind(t,29537))},82328:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(65239),i=t(48088),n=t(88170),a=t.n(n),l=t(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d={children:["",{children:["checkout",{children:["credits",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4203)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/checkout/credits/[id]/page",pathname:"/checkout/credits/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[724,418,474,19,246,226],()=>t(82328));module.exports=s})();