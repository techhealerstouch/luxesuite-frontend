(()=>{var e={};e.id=960,e.ids=[960],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4203:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\LuxeSuite\\\\luxesuite-frontend\\\\app\\\\checkout\\\\credits\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13760:(e,s,t)=>{Promise.resolve().then(t.bind(t,4203))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35071:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(62688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},41862:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(62688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63360:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(60687),a=t(43210),i=t(16189),n=t(97821),l=t(55192),d=t(24934),o=t(22381),c=t(20865),u=t(71702),p=t(24224),m=t(96241);let x=(0,p.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),h=a.forwardRef(({className:e,variant:s,...t},a)=>(0,r.jsx)("div",{ref:a,role:"alert",className:(0,m.cn)(x({variant:s}),e),...t}));h.displayName="Alert";let f=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h5",{ref:t,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));f.displayName="AlertTitle",a.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",e),...s})).displayName="AlertDescription";var y=t(35071),g=t(41862),v=t(62688);let j=(0,v.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),b=(0,v.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function N(){let{id:e}=(0,i.useParams)(),{toast:s}=(0,u.dj)(),[t,p]=(0,a.useState)(null),[m,x]=(0,a.useState)({full_name:"",street:"",barangay:"",city:"",province:"",postal_code:"",country:"",email:"",phone:""}),[v,N]=(0,a.useState)({}),[w,k]=(0,a.useState)(null),[_,P]=(0,a.useState)(!1),C=()=>{let e={};return m.full_name.trim()||(e.full_name="Full name is required"),m.email.trim()?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(m.email)||(e.email="Invalid email format"):e.email="Email is required",m.phone.trim()?/^\d{10,11}$/.test(m.phone.replace(/\D/g,""))||(e.phone="Invalid phone number"):e.phone="Phone number is required",m.street.trim()||(e.street="Street address is required"),m.barangay.trim()||(e.barangay="Barangay is required"),m.city.trim()||(e.city="City is required"),m.province.trim()||(e.province="Province is required"),m.postal_code.trim()||(e.postal_code="Postal code is required"),m.country.trim()||(e.country="Country is required"),N(e),0===Object.keys(e).length},q=async()=>{if(k(null),!t)return;if(!C()){s({title:"Validation",description:"Please input shipping details"});return}P(!0);let e=new URLSearchParams(window.location.search),r=e.get("user"),a=e.get("added_by");try{let e=await n.K.topUpCredits({user_id:r?Number(r):void 0,added_by:a?Number(a):void 0,credit_id:t.id,quantity:t.quantity,source:"luxesuite",shipping:m}),s=e?.data?e.data:e;s.success&&s.invoice_url?(window.open(s.invoice_url,"_blank"),setTimeout(()=>{window.location.href="/account?section=orders"},1e3)):k(s?.message||"Failed to process checkout.")}catch(e){e?.response?.data?.message?k(e.response.data.message):e?.message?k(e.message):k("Checkout failed. Please try again.")}finally{P(!1)}};if(!t)return(0,r.jsx)("p",{children:"Loading..."});let A=Number("150"),S=Number(t.price)+A,R=(e,s,t,a="text",i="")=>(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("label",{className:"text-sm font-bold mb-1",children:[e," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:a,className:`border rounded-md px-3 py-2 ${v[t]?"border-red-500":""}`,value:s,onChange:e=>x({...m,[t]:e.target.value}),placeholder:i}),v[t]&&(0,r.jsx)("span",{className:"text-red-500 text-xs mt-1",children:v[t]})]});return(0,r.jsx)(c.O,{children:(0,r.jsx)(o.N,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Shipping Details"}),(0,r.jsx)(l.BT,{children:"Please provide accurate information for smooth delivery."})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"col-span-2",children:R("Full Name",m.full_name,"full_name","text","Enter your full name")}),R("Email",m.email,"email","email","you@example.com"),R("Phone Number",m.phone,"phone","tel","09XXXXXXXXX"),(0,r.jsx)("div",{className:"col-span-2 border-t pt-4",children:(0,r.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Address Information"})}),(0,r.jsx)("div",{className:"col-span-2",children:R("Street Address",m.street,"street","text","House No., Street Name")}),R("Barangay",m.barangay,"barangay"),R("City",m.city,"city"),R("Province",m.province,"province"),R("Postal Code",m.postal_code,"postal_code"),(0,r.jsx)("div",{className:"col-span-2",children:R("Country",m.country,"country","text","Philippines")})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Order Summary"}),(0,r.jsx)(l.BT,{children:"Review your package and charges before confirming."})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:t.name}),(0,r.jsxs)("span",{className:"font-medium",children:["₱",t.price]})]}),(0,r.jsxs)("div",{className:"ml-4 text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"• Authentications"}),(0,r.jsx)("span",{children:t.quantity})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"• NFC Card"}),(0,r.jsx)("span",{children:t.quantity})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsx)("span",{children:"Shipping Fee"}),(0,r.jsxs)("span",{children:["₱",A]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-2",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₱",S]})]}),w&&(0,r.jsxs)(h,{variant:"destructive",className:"mt-4",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),(0,r.jsx)(f,{children:w})]}),(0,r.jsx)(d.$,{className:"w-full mt-4",onClick:q,disabled:_,children:_?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{children:"Processing..."})]}):"Buy Now"}),(0,r.jsxs)("div",{className:"mt-3 bg-gray-100 text-gray-700 text-xs p-3 rounded-md flex items-start space-x-2",children:[(0,r.jsx)(j,{className:"w-4 h-4 mt-0.5 text-gray-600"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Reminder:"})," Payment gateways remain active for only ",(0,r.jsx)("span",{className:"font-semibold",children:"3 hours"}),". Similarly, NFC card reservations are also held for"," ",(0,r.jsx)("span",{className:"font-semibold",children:"3 hours"}),"."]})]}),(0,r.jsxs)("div",{className:"mt-3 bg-gray-100 text-gray-700 text-xs p-3 rounded-md flex items-start space-x-2",children:[(0,r.jsx)(b,{className:"w-4 h-4 mt-0.5 text-gray-600"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"What does reserving an NFC card mean?"})," During checkout, your order will temporarily"," ",(0,r.jsx)("span",{className:"font-semibold",children:"reserve NFC cards"}),". If payment is not completed within"," ",(0,r.jsx)("span",{className:"font-semibold",children:"3 hours"}),", both the reservation and the payment gateway will expire, and you will need to place a new order."]})]})]})]})]})})})}},77312:(e,s,t)=>{Promise.resolve().then(t.bind(t,63360))},82328:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var r=t(65239),a=t(48088),i=t(88170),n=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o={children:["",{children:["checkout",{children:["credits",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4203)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/checkout/credits/[id]/page",pathname:"/checkout/credits/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[724,418,474,516,246,226],()=>t(82328));module.exports=r})();