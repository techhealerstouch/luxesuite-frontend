(()=>{var e={};e.id=960,e.ids=[960],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\LuxeSuite\\\\luxesuite-frontend\\\\app\\\\checkout\\\\credits\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13760:(e,t,r)=>{Promise.resolve().then(r.bind(r,4203))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35071:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},38485:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(60687),i=r(43210),a=r(16189),n=r(97821),d=r(55192),l=r(24934),o=r(22381),c=r(20865),u=r(71702),p=r(24224),m=r(96241);let x=(0,p.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),h=i.forwardRef(({className:e,variant:t,...r},i)=>(0,s.jsx)("div",{ref:i,role:"alert",className:(0,m.cn)(x({variant:t}),e),...r}));h.displayName="Alert";let f=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h5",{ref:r,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));f.displayName="AlertTitle",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",e),...t})).displayName="AlertDescription";var v=r(35071);function g(){let{id:e}=(0,a.useParams)(),{toast:t}=(0,u.dj)(),[r,p]=(0,i.useState)(null),[m,x]=(0,i.useState)({full_name:"",street:"",barangay:"",city:"",province:"",postal_code:"",country:"",email:"",phone:""}),[g,y]=(0,i.useState)({}),[j,b]=(0,i.useState)(null),N=()=>{let e={};return m.full_name.trim()||(e.full_name="Full name is required"),m.email.trim()?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(m.email)||(e.email="Invalid email format"):e.email="Email is required",m.phone.trim()?/^\d{10,11}$/.test(m.phone.replace(/\D/g,""))||(e.phone="Invalid phone number"):e.phone="Phone number is required",m.street.trim()||(e.street="Street address is required"),m.barangay.trim()||(e.barangay="Barangay is required"),m.city.trim()||(e.city="City is required"),m.province.trim()||(e.province="Province is required"),m.postal_code.trim()||(e.postal_code="Postal code is required"),m.country.trim()||(e.country="Country is required"),y(e),0===Object.keys(e).length},_=async()=>{if(b(null),!r)return;if(!N()){t({title:"Validation",description:"Please input shipping details"});return}let e=new URLSearchParams(window.location.search),s=e.get("user"),i=e.get("added_by");try{let e=await n.K.topUpCredits({user_id:s?Number(s):void 0,added_by:i?Number(i):void 0,credit_id:r.id,quantity:r.quantity,shipping:m}),t=e?.data?e.data:e;t.success&&t.invoice_url?window.open(t.invoice_url,"_blank"):b(t?.message||"Failed to process checkout.")}catch(e){e?.response?.data?.message?b(e.response.data.message):e?.message?b(e.message):b("Checkout failed. Please try again.")}};if(!r)return(0,s.jsx)("p",{children:"Loading..."});let w=Number("150"),P=Number(r.price)+w,k=(e,t,r,i="text",a="")=>(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1",children:e}),(0,s.jsx)("input",{type:i,className:`border rounded-md px-3 py-2 ${g[r]?"border-red-500":""}`,value:t,onChange:e=>x({...m,[r]:e.target.value}),placeholder:a}),g[r]&&(0,s.jsx)("span",{className:"text-red-500 text-xs mt-1",children:g[r]})]});return(0,s.jsx)(c.O,{children:(0,s.jsx)(o.N,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Shipping Details"}),(0,s.jsx)(d.BT,{children:"Please provide accurate information for smooth delivery."})]}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"col-span-2",children:k("Full Name",m.full_name,"full_name","text","Enter your full name")}),k("Email",m.email,"email","email","you@example.com"),k("Phone Number",m.phone,"phone","tel","09XXXXXXXXX"),(0,s.jsx)("div",{className:"col-span-2 border-t pt-4",children:(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Address Information"})}),(0,s.jsx)("div",{className:"col-span-2",children:k("Street Address",m.street,"street","text","House No., Street Name")}),k("Barangay",m.barangay,"barangay"),k("City",m.city,"city"),k("Province",m.province,"province"),k("Postal Code",m.postal_code,"postal_code"),(0,s.jsx)("div",{className:"col-span-2",children:k("Country",m.country,"country","text","Philippines")})]})})]}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Order Summary"}),(0,s.jsx)(d.BT,{children:"Review your package and charges before confirming."})]}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:r.name}),(0,s.jsxs)("span",{className:"font-medium",children:["₱",r.price]})]}),(0,s.jsxs)("div",{className:"ml-4 text-sm text-gray-600 space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"• Authentications"}),(0,s.jsx)("span",{children:r.quantity})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"• NFC Card"}),(0,s.jsx)("span",{children:r.quantity})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Shipping Fee"}),(0,s.jsxs)("span",{children:["₱",w]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-2",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["₱",P]})]}),j&&(0,s.jsxs)(h,{variant:"destructive",className:"mt-4",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),(0,s.jsx)(f,{children:j})]}),(0,s.jsx)(l.$,{className:"w-full mt-4",onClick:_,children:"Buy Now"})]})]})]})})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77312:(e,t,r)=>{Promise.resolve().then(r.bind(r,38485))},82328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(65239),i=r(48088),a=r(88170),n=r.n(a),d=r(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let o={children:["",{children:["checkout",{children:["credits",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4203)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\checkout\\credits\\[id]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/checkout/credits/[id]/page",pathname:"/checkout/credits/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[724,418,474,19,246,226],()=>r(82328));module.exports=s})();