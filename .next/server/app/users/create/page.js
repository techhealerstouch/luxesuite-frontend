(()=>{var e={};e.id=998,e.ids=[998],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6007:(e,s,t)=>{Promise.resolve().then(t.bind(t,96644))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31294:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(65239),a=t(48088),i=t(88170),l=t.n(i),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["users",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,67645)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\users\\create\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\users\\create\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/users/create/page",pathname:"/users/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},45759:(e,s,t)=>{Promise.resolve().then(t.bind(t,67645))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67645:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\LuxeSuite\\\\luxesuite-frontend\\\\app\\\\users\\\\create\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\LuxeSuite\\luxesuite-frontend\\app\\users\\create\\page.tsx","default")},68988:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var r=t(60687),a=t(43210),i=t(96241);let l=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));l.displayName="Input"},96644:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(60687),a=t(43210),i=t(16189),l=t(22381),n=t(20865),o=t(97821),d=t(55192),c=t(68988),u=t(12597),p=t(13861);function m({userDetails:e,setUserDetails:s}){let[t,i]=(0,a.useState)(!1),[l,n]=(0,a.useState)(!1),o="w-5 h-5 text-gray-500 hover:text-gray-700 transition-colors";return(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"User Details"}),(0,r.jsx)(d.BT,{children:"Enter user information"})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Name"}),(0,r.jsx)(c.p,{placeholder:"Full Name",value:e.name,onChange:t=>s({...e,name:t.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Email"}),(0,r.jsx)(c.p,{type:"email",placeholder:"Email",value:e.email,onChange:t=>s({...e,email:t.target.value})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"flex items-center relative",children:[(0,r.jsx)(c.p,{type:t?"text":"password",placeholder:"Password",className:"pr-10",value:e.password,onChange:t=>s({...e,password:t.target.value})}),(0,r.jsx)("button",{type:"button",className:"absolute right-2",onClick:()=>i(!t),children:t?(0,r.jsx)(u.A,{className:o}):(0,r.jsx)(p.A,{className:o})})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"flex items-center relative",children:[(0,r.jsx)(c.p,{type:l?"text":"password",placeholder:"Confirm Password",className:"pr-10",value:e.confirmPassword,onChange:t=>s({...e,confirmPassword:t.target.value})}),(0,r.jsx)("button",{type:"button",className:"absolute right-2",onClick:()=>n(!l),children:l?(0,r.jsx)(u.A,{className:o}):(0,r.jsx)(p.A,{className:o})})]})]})]})]})}var x=t(9989);function h({permissions:e,setPermissions:s}){let[t,i]=(0,a.useState)([]),l=t=>{s({...e,[t]:!e[t]})},n={};t.forEach(e=>{n[e.category]||(n[e.category]=[]),n[e.category].push(e)});let o={view_products:"Allows the user to view products",create_products:"Allows the user to create new products",edit_products:"Allows the user to edit existing products",delete_products:"Allows the user to delete products",view_brands:"Allows the user to view brands",create_brands:"Allows the user to create new brands",edit_brands:"Allows the user to edit existing brands",delete_brands:"Allows the user to delete brands",view_item_types:"Allows the user to view item types",create_item_types:"Allows the user to create item types",edit_item_types:"Allows the user to edit item types",delete_item_types:"Allows the user to delete item types"},c={products:"Give permissions for product module",brands:"Give permissions for brand module","item types":"Give permissions for item type module",general:"General permissions"};return(0,r.jsx)(x.Kq,{children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Permissions"}),(0,r.jsx)(d.BT,{children:"Assign permissions to this user"})]}),(0,r.jsx)(d.Wu,{className:"space-y-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(n).map(([s,t])=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-semibold",children:s.charAt(0).toUpperCase()+s.slice(1)}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:c[s.toLowerCase()]||"Assign permissions for this module"}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:t.map(s=>(0,r.jsxs)(x.bL,{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:e[s.name]||!1,onChange:()=>l(s.name)}),(0,r.jsx)(x.l9,{asChild:!0,children:(0,r.jsx)("span",{className:"no-underline",children:s.label})})]}),(0,r.jsx)(x.ZL,{children:(0,r.jsxs)(x.UC,{side:"top",align:"center",sideOffset:4,className:"bg-gray-800 text-white text-sm rounded px-2 py-1 shadow-lg z-50",children:[o[s.name]||s.label,(0,r.jsx)(x.i3,{className:"fill-gray-800",offset:10})]})})]},s.name))})]},s))})})]})})}var f=t(24934),b=t(71702),j=t(41862);function g(){let e=(0,i.useRouter)(),{toast:s}=(0,b.dj)(),[t,c]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:""}),[u,p]=(0,a.useState)({}),[x,g]=(0,a.useState)(!1),v=async()=>{if(t.password!==t.confirmPassword){s({title:"Error",description:"Passwords do not match",variant:"destructive"});return}g(!0);try{await o.K.createUserWithPermissions({name:t.name,email:t.email,password:t.password,permissions:Object.keys(u).filter(e=>u[e])}),s({title:"Success",description:"User created successfully",variant:"default"}),e.push("/users")}catch(e){console.error(e),s({title:"Failed to create user",description:e?.message||"Failed to create user",variant:"default"})}finally{g(!1)}};return(0,r.jsx)(n.O,{children:(0,r.jsx)(l.N,{children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Create Sub User"}),(0,r.jsx)(d.BT,{children:"Fill out details and assign permissions for the new sub user"})]}),(0,r.jsxs)(d.Wu,{className:"space-y-6",children:[(0,r.jsx)(m,{userDetails:t,setUserDetails:c}),(0,r.jsx)(h,{permissions:u,setPermissions:p}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(f.$,{onClick:v,disabled:x,children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create User"})})]})]})})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[724,418,474,516,350,246,226],()=>t(31294));module.exports=r})();