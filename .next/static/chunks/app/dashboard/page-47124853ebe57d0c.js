(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3904:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4616:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4869:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},5525:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6199:(e,s,t)=>{Promise.resolve().then(t.bind(t,9806))},9799:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},9806:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(5155),c=t(2115),l=t(5695),r=t(6639),i=t(5499),n=t(8482),d=t(7168),o=t(3904),h=t(4869);let u=(0,t(9946).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var x=t(8054),m=t(3580),p=t(8933),y=t(7133),v=t(6194);function g(){var e;let[s,t]=(0,c.useState)([]),[g,j]=(0,c.useState)(!0),[f,k]=(0,c.useState)(!1),[N,b]=(0,c.useState)(null),{toast:w}=(0,m.dj)(),A=(0,l.useRouter)(),M={luxeflips:"/Luxe Vip-11.svg",luxeoffice:"/Luxe Vip-09.svg",luxeproof:"/Luxe Vip-07.svg"},C=async()=>{j(!0),k(!0);try{let e=await x.K.getSubscriptions();t(e.data)}catch(e){t([])}finally{j(!1),k(!1)}},S=async()=>{try{let e=await v.y.getCurrentUser();b(e)}catch(e){console.error("Failed to fetch user:",e)}};(0,c.useEffect)(()=>{S(),C()},[]);let _=async()=>{k(!0),await C()};return(0,a.jsx)(r.O,{children:(0,a.jsx)(i.N,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:s.length>0?"Managing ".concat(s.length," service").concat(1!==s.length?"s":""):"Welcome back! Create your first service to get started."})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)(d.$,{variant:"outline",onClick:_,disabled:f,children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2 ".concat(f?"animate-spin":"")}),"Refresh"]})})]}),0===s.length?(0,a.jsx)(n.Zp,{className:"text-center py-12",children:(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)(h.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No subscriptions yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Subscribe to our services to get started with Luxe Suite."}),1===Number(null==N?void 0:null===(e=N.account)||void 0===e?void 0:e.trial_subscription)?(0,a.jsx)(d.$,{onClick:()=>A.push("/free-trial"),children:"Start Free Trial"}):(0,a.jsx)(p.u,{onSelectPlan:(e,s)=>{console.log("User selected plan:",e,"for months:",s)},user:N})]})}):(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.filter(e=>"pending"!==e.status).map(e=>(0,a.jsx)(n.Zp,{className:"relative hover:shadow-lg transition-shadow",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[(0,a.jsx)("img",{src:M[e.service]||"/placeholder-logo.png",alt:"".concat(e.service," logo"),className:"w-16 h-16 object-contain rounded"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Domain"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.service,".com"]})]})}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsxs)(y.rI,{children:[(0,a.jsx)(y.ty,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,a.jsx)(u,{className:"h-4 w-4 text-muted-foreground"})})}),(0,a.jsx)(y.SQ,{align:"end",children:(0,a.jsx)(y._2,{asChild:!0,children:(0,a.jsx)("a",{href:"https://".concat(e.service,".com"),target:"_blank",rel:"noopener noreferrer",children:"View Website"})})})]})})]})})},e.id))})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[352,244,651,73,74,386,567,279,933,441,684,358],()=>s(6199)),_N_E=e.O()}]);